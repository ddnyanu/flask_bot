{% extends "base.html" %}
{% block content %}
<!DOCTYPE html>
<html>
<head>
    <title>JDA Byelaws Assistant</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <div class="container">
        <h1><span class="icon">ðŸ“„</span> JDA Byelaws Assistant</h1>
        <p>{{ num_docs }} document(s) loaded in the <code>doc</code> folder.</p>

        <form method="POST">
            <input type="text" name="question" placeholder="e.g. Which contracts expire in 30 days?" required>
            <button type="submit">Ask</button>
        </form>

        {% if error %}
            <div class="error">{{ error }}</div>
        {% endif %}

        {% if answer %}
        <div class="chat-box">
            <div class="chat-message user">
                <div class="chat-label">You:</div>
                <div class="chat-question">{{ question }}</div>
            </div>
            <div class="chat-message bot">
                <div class="chat-label">Answer:</div>
                <div class="chat-response">{{ answer | safe }}</div>
            </div>
        </div>
        {% endif %}
    </div>
</body>
</html>
{% endblock %}